%ul{id: "searchList", style:"list-style-type: circle;"}
  - @groups.each do |group_id, group|
    %dl.accordion{"data-accordion" => group_id, style: "text-align: left;"}
      - accordion_id = group["name"].dup.gsub!(/\s+/, "")
      %dd.accordion-navigation{id: "accordion#{accordion_id}"}
        %a.group_title{:href => "#"+group_id, style: "text-align: left;"}
          %i.fa.fa-plus-circle.analysis{style: "color: 333"}
          = group["name"]
        %ul.content{"id" => group_id, "style" => "background: none;"  "text-align: left;  list-style-type: circle;"}
          - group["methods"].each do |method|
            - if method["em_class"]
              %li
                %a.tip-right.text-left{href: "#", "em-class" => method["em_class"], "title"=>"<div style=width:65%;float:left;padding-top:10px;>#{method["description"]}</div><div style=width:35%;float:right;><img src=#{@prefix}#{method["image"]} /></div> ", "data-reveal-id"=>method["id"], "data-tooltip"=>"", style:"padding: 0px;" "text-align: left;"}
                  %span= method["name"]
            - else
              %li
                %a.tip-right.text-left{href:"#method"+method["name"], "title"=>"<div style=width:65%;float:left;padding-top:10px;>#{method["description"]}</div><div style=width:35%;float:right;><img src=#{@prefix}#{method["image"]}/></div>", "data-reveal-id"=>method["id"], "data-tooltip"=>"", style:"padding: 0px;"}
                  %span= method["name"]                      



- @methods.each do |method|
  = render "/../visualisation_methods/#{method}/modal"

:javascript
  $(function(){
    $(document).foundation();

  $("#searchList [data-reveal-id=experiment-analysis-modal]").on("click", function(event){
    var modalIdName = $(event.currentTarget).attr('data-reveal-id');
    var className = $(event.currentTarget).attr('em-class');
    $("#" + modalIdName + " .content").hide();
    $("#" + modalIdName + " ." + className + "-content").show();
    });

  $("#searchList").on("click", "a.group_title", function (){
    var accordion_id = "#accordion" + $(this).text().replace(/\s/g, '');
    if(!$(accordion_id).hasClass("active")) {
      $(accordion_id).find('i').addClass('fa fa-minus-circle analysis');
    }
    else {
      $(accordion_id).find('i').removeClass('fa fa-minus-circle analysis').addClass('fa fa-plus-circle analysis');
    }
  });


  });
